(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem___pY0-",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__1hcWS"}},11:function(e,t,a){e.exports={Overlay:"Modal_Overlay__38zEB",Modal:"Modal_Modal__2hdOL"}},13:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__2hbL1"}},14:function(e,t,a){e.exports={Button:"Button_Button__1Co0Z"}},16:function(e,t,a){e.exports={Loader:"Loader_Loader__t6r2Y"}},17:function(e,t,a){e.exports={App:"App_App__2RKXC"}},23:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a(0),c=a.n(n),o=a(4),s=a.n(o),i=(a(23),a(3)),u=a(12),l=a(10),m=a.n(l);var j=function(e){var t=e.smallImg,a=e.openModal;return Object(r.jsx)("li",{className:m.a.ImageGalleryItem,onClick:a,children:Object(r.jsx)("img",{src:t,alt:"",className:m.a.ImageGalleryItemImage})})},b=a(13),h=a.n(b);var d=function(e){var t=e.images,a=e.openModal;return Object(r.jsx)("ul",{className:h.a.ImageGallery,children:t.map((function(e){var t=e.id,n=e.webformatURL,c=e.largeImageURL;return Object(r.jsx)(j,{smallImg:n,openModal:function(){return a(c)}},t)}))})},f=a(14),O=a.n(f);var p=function(e){var t=e.nextImages;return Object(r.jsx)("button",{type:"button",className:O.a.Button,onClick:t,children:"Load More"})},g=a(15),_=a.n(g),x=(a(45),a(16)),v=a.n(x);var S=function(){return Object(r.jsx)("div",{className:v.a.Loader,children:Object(r.jsx)(_.a,{type:"Bars",color:"#00BFFF",height:80,width:80})})},I=a(2),y=a.n(I),F=a(11),w=a.n(F);function B(e){var t=e.imgUrl,a=e.onClose;return Object(n.useEffect)((function(){var e=function(e){"Escape"===e.code&&a()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[a]),Object(r.jsx)("div",{className:w.a.Overlay,onClick:function(e){"DIV"===e.target.nodeName&&a()},children:Object(r.jsx)("div",{className:w.a.Modal,children:Object(r.jsx)("img",{src:t,alt:""})})})}B.propType={onClose:y.a.func.isRequired,imgUrl:y.a.string.isRequired};var L={fetchArticlesWithQuery:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a="17653140-37eca66381d8ffc40f2e9b8e7";return fetch("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=").concat(a,"&image_type=photo&orientation=horizontal&per_page=12")).then((function(t){return t.ok?t.json():Promise.reject(new Error("No pictures with title".concat(e)))}))}};function N(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}var k="idle",E="pending",G="resolved",C="rejected";function M(e){var t=e.searchQuery,a=Object(n.useState)([]),c=Object(i.a)(a,2),o=c[0],s=c[1],l=Object(n.useState)(1),m=Object(i.a)(l,2),j=m[0],b=m[1],h=Object(n.useState)(null),f=Object(i.a)(h,2),O=f[0],g=f[1],_=Object(n.useState)(!1),x=Object(i.a)(_,2),v=x[0],I=x[1],y=Object(n.useState)(null),F=Object(i.a)(y,2),w=F[0],M=F[1],U=Object(n.useState)(!1),A=Object(i.a)(U,2),Q=A[0],R=A[1],T=Object(n.useState)(k),q=Object(i.a)(T,2),z=q[0],W=q[1],D=Object(n.useRef)(null);Object(n.useEffect)((function(){D.current=t,D.current===t&&(s([]),b(1),g(null),W(k))}),[t]),Object(n.useEffect)((function(){t&&(W(E),L.fetchArticlesWithQuery(t,j).then((function(e){var t=e.hits,a=e.totalHits;s((function(e){return[].concat(Object(u.a)(e),Object(u.a)(t))})),R(a-12*(j-1)<=0),W(G)})).catch((function(e){g(e),W(C)})))}),[j,t]);return z===k?Object(r.jsx)(r.Fragment,{}):z===C?Object(r.jsx)("h1",{children:O.message}):z===G||z===E?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(d,{images:o,openModal:function(e){M(e),I(!0)}}),z===G&&!Q&&Object(r.jsx)(p,{nextImages:function(){b((function(e){return e+1})),setTimeout(N,300)}}),z===E&&Object(r.jsx)(S,{}),v&&Object(r.jsx)(B,{onClose:function(){I(!1),M(null)},imgUrl:w})]}):void 0}var U=a(8),A=(a(46),a(5)),Q=a.n(A);function R(e){var t=e.onSubmit,a=Object(n.useState)(""),c=Object(i.a)(a,2),o=c[0],s=c[1];return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("header",{className:Q.a.Searchbar,children:Object(r.jsxs)("form",{className:Q.a.SearchForm,onSubmit:function(e){if(e.preventDefault(),""===o.trim())return U.b.error("Enter the name of the pictures ");t(o),s("")},children:[Object(r.jsx)("button",{type:"submit",className:Q.a.SearchFormButton,children:Object(r.jsx)("span",{className:Q.a.SearchFormButtonLabel})}),Object(r.jsx)("input",{className:Q.a.SearchFormInput,type:"text",value:o,placeholder:"Search images and photos",onChange:function(e){s(e.target.value.toLowerCase())}})]})})})}var T=a(17),q=a.n(T);function z(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1];return Object(r.jsxs)("div",{className:q.a.App,children:[Object(r.jsx)(R,{onSubmit:function(e){c(e)}}),";",Object(r.jsx)(M,{searchQuery:a}),Object(r.jsx)(U.a,{position:"top-right",autoClose:3e3})]})}s.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(z,{})}),document.getElementById("root"))},5:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__1vUQ1",SearchForm:"Searchbar_SearchForm__3Urm9",SearchFormButton:"Searchbar_SearchFormButton__1jiAf",SearchForButton:"Searchbar_SearchForButton__1QvUk",SearchForButtonLabel:"Searchbar_SearchForButtonLabel__3zIBT",SearchFormInput:"Searchbar_SearchFormInput__3E_26"}}},[[47,1,2]]]);
//# sourceMappingURL=main.9500d519.chunk.js.map