{"version":3,"sources":["components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/App.module.css","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","utils/articlesApi.js","utils/scroll.js","components/ImageInfo/ImageInfo.js","components/Searchbar/Searchbar.js","components/App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","ImageGalleryItem","smallImg","openModal","className","s","onClick","src","alt","ImageGalleryItemImage","ImageGallery","images","map","id","webformatURL","largeImageURL","Button","nextImages","type","Spinner","Loader","color","height","width","Modal","imgUrl","onClose","useEffect","handleKeyDown","e","code","window","addEventListener","removeEventListener","Overlay","target","nodeName","propType","PropTypes","func","isRequired","string","fetchArticlesWithQuery","searchQuery","page","apiKey","fetch","then","res","ok","json","Promise","reject","Error","scroll","scrollTo","top","document","documentElement","scrollHeight","behavior","Status","ImageInfo","useState","articles","setArticles","setPage","error","setError","showModal","setShowModal","largeImgUrl","setLargeImgUrl","arePicturesOver","setArePicturesOver","status","setStatus","fetchArticles","hits","totalHits","prevHits","catch","finally","message","Searchbar","onSubmit","inputValue","setInputValue","SearchForm","preventDefault","trim","toast","SearchFormButton","SearchFormButtonLabel","SearchFormInput","value","placeholder","onChange","toLowerCase","App","setSearchQuery","position","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.abfced17.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem___pY0-\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1hcWS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__38zEB\",\"Modal\":\"Modal_Modal__2hdOL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2hbL1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1Co0Z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__t6r2Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2RKXC\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.css';\n\nfunction ImageGalleryItem({ smallImg, openModal }) {\n  return (\n    <li className={s.ImageGalleryItem} onClick={openModal}>\n      <img src={smallImg} alt=\"\" className={s.ImageGalleryItemImage} />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  smallImg: PropTypes.string.isRequired,\n  openModal: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ImageGalleryItem from './ImageGalleryItem';\n\nimport s from './ImageGallery.module.css';\n\nfunction ImageGallery({ images, openModal }) {\n  return (\n    <ul className={s.ImageGallery}>\n      {images.map(({ id, webformatURL, largeImageURL }) => (\n        <ImageGalleryItem\n          key={id}\n          smallImg={webformatURL}\n          openModal={() => openModal(largeImageURL)}\n        />\n      ))}\n    </ul>\n  );\n}\n\nImageGallery.propTypes = {\n  openModal: PropTypes.func.isRequired,\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      webformatURL: PropTypes.string.isRequired,\n      largeImageURL: PropTypes.string.isRequired,\n    }).isRequired,\n  ).isRequired,\n};\n\nexport default ImageGallery;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Button.module.css';\n\nfunction Button({ nextImages }) {\n  return (\n    <button type=\"button\" className={s.Button} onClick={nextImages}>\n      Load More\n    </button>\n  );\n}\n\nButton.propTypes = {\n  nextImages: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nimport s from './Loader.module.css';\n\nfunction Spinner() {\n  return (\n    <div className={s.Loader}>\n      <Loader type=\"Bars\" color=\"#00BFFF\" height={80} width={80} />\n    </div>\n  );\n}\n\nexport default Spinner;\n","import { useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport s from './Modal.module.css';\n\nexport default function Modal({ imgUrl, onClose }) {\n  const onCloseModal = e => {\n    if (e.target.nodeName === 'DIV') {\n      onClose();\n    }\n  };\n  useEffect(() => {\n    const handleKeyDown = e => {\n      if (e.code === 'Escape') {\n        onClose();\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [onClose]);\n\n  return (\n    <div className={s.Overlay} onClick={onCloseModal}>\n      <div className={s.Modal}>\n        <img src={imgUrl} alt=\"\" />\n      </div>\n    </div>\n  );\n}\n\nModal.propType = {\n  onClose: PropTypes.func.isRequired,\n  imgUrl: PropTypes.string.isRequired,\n};\n","function fetchArticlesWithQuery(searchQuery, page = 1) {\n  const apiKey = '17653140-37eca66381d8ffc40f2e9b8e7';\n\n  return fetch(\n    `https://pixabay.com/api/?q=${searchQuery}&page=${page}&key=${apiKey}&image_type=photo&orientation=horizontal&per_page=12`,\n  ).then(res => {\n    if (res.ok) {\n      return res.json();\n    }\n\n    return Promise.reject(new Error(`No pictures with title${searchQuery}`));\n  });\n}\n\nexport default fetchArticlesWithQuery;\n","export default function scroll() {\n  window.scrollTo({\n    top: document.documentElement.scrollHeight,\n    behavior: 'smooth',\n  });\n}\n","import { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport ImageGallery from '../ImageGallery';\nimport Button from '../Button';\nimport Spinner from '../Loader';\nimport Modal from '../Modal';\n\nimport fetchArticlesWithQuery from '../../utils/articlesApi';\nimport scroll from '../../utils/scroll';\n\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nexport default function ImageInfo({ searchQuery }) {\n  const [articles, setArticles] = useState([]);\n  const [page, setPage] = useState(1);\n  const [error, setError] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [largeImgUrl, setLargeImgUrl] = useState(null);\n  const [arePicturesOver, setArePicturesOver] = useState(false);\n  const [status, setStatus] = useState(Status.IDLE);\n\n  useEffect(() => {\n    if (!searchQuery) {\n      return;\n    }\n    setArticles([]);\n    setPage(1);\n    setError(null);\n\n    fetchArticles();\n  }, [searchQuery]);\n\n  useEffect(() => {\n    if (page === 1) {\n      return;\n    }\n\n    fetchArticles();\n  }, [page]);\n\n  const fetchArticles = () => {\n    setStatus(Status.PENDING);\n\n    fetchArticlesWithQuery(searchQuery, page)\n      .then(({ hits, totalHits }) => {\n        setArticles(prevHits => [...prevHits, ...hits]);\n        setArePicturesOver(totalHits - page * 12 <= 0);\n        setStatus(Status.RESOLVED);\n      })\n      .catch(error => {\n        setError(error);\n        setStatus(Status.REJECTED);\n      })\n      .finally(scroll);\n  };\n\n  const onClickLoadMore = () => {\n    setPage(page => page + 1);\n  };\n\n  const closeModal = () => {\n    setShowModal(false);\n    setLargeImgUrl(null);\n  };\n\n  const handleClickImg = largeImgUrl => {\n    setLargeImgUrl(largeImgUrl);\n    setShowModal(true);\n  };\n\n  if (status === Status.IDLE) {\n    return <></>;\n  }\n\n  if (status === Status.REJECTED) {\n    return <h1>{error.message}</h1>;\n  }\n\n  if (status === Status.RESOLVED || status === Status.PENDING) {\n    return (\n      <>\n        <ImageGallery images={articles} openModal={handleClickImg} />\n        {status === Status.RESOLVED && !arePicturesOver && (\n          <Button nextImages={onClickLoadMore} />\n        )}\n        {status === Status.PENDING && <Spinner />}\n        {showModal && <Modal onClose={closeModal} imgUrl={largeImgUrl} />}\n      </>\n    );\n  }\n}\n\nImageInfo.propTypes = {\n  searchQuery: PropTypes.string,\n};\n","import { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport s from './Searchbar.module.css';\n\nexport default function Searchbar({ onSubmit }) {\n  const [inputValue, setInputValue] = useState('');\n\n  const handleChange = e => {\n    setInputValue(e.target.value.toLowerCase());\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (inputValue.trim() === '') {\n      return toast.error('Enter the name of the pictures ');\n    }\n\n    onSubmit(inputValue);\n    setInputValue('');\n  };\n\n  return (\n    <header className={s.Searchbar}>\n      <form className={s.SearchForm} onSubmit={handleSubmit}>\n        <button type=\"submit\" className={s.SearchFormButton}>\n          <span className={s.SearchFormButtonLabel}></span>\n        </button>\n\n        <input\n          className={s.SearchFormInput}\n          type=\"text\"\n          value={inputValue}\n          placeholder=\"Search images and photos\"\n          onChange={handleChange}\n        />\n      </form>\n    </header>\n  );\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import { useState } from 'react';\n// , useRef, useEffect\nimport ImageInfo from './ImageInfo';\nimport Searchbar from './Searchbar';\n\nimport { ToastContainer } from 'react-toastify';\n\nimport s from './App.module.css';\n\nexport default function App() {\n  const [searchQuery, setSearchQuery] = useState('');\n\n  // const Query = useRef('');\n\n  // useEffect(() => {\n  //   Query.current = searchQuery;\n  // }, [searchQuery]);\n\n  // const prevQuery = Query.current;\n\n  return (\n    <div className={s.App}>\n      <Searchbar onSubmit={setSearchQuery} />;\n      <ImageInfo searchQuery={searchQuery} />\n      {/* prevQuery={prevQuery} */}\n      <ToastContainer position=\"top-right\" autoClose={3000} />\n    </div>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1vUQ1\",\"SearchForm\":\"Searchbar_SearchForm__3Urm9\",\"SearchFormButton\":\"Searchbar_SearchFormButton__1jiAf\",\"SearchForButton\":\"Searchbar_SearchForButton__1QvUk\",\"SearchForButtonLabel\":\"Searchbar_SearchForButtonLabel__3zIBT\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3E_26\"};"],"sourceRoot":""}